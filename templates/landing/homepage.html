<!DOCTYPE html>
{% extends "base.html" %}
{% load static %}
 
{% block title %}
 
Homepage
 
{% endblock %}
 
{% block body %}
 
<h1>Home</h1>

<div class="container">
    <div class="row-lg-12">
        <div class="col-lg-4 cam-div">
            <video id="vid"></video>
            <br />
            <button id="but" autoplay>
                Open WebCam
            </button>
        </div>
    </div>

    <div class="col-lg-6">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad, odit ipsum, quod voluptatum hic cumque ex ipsam fugit, minus magnam aliquam explicabo aliquid voluptates earum blanditiis esse dolorem! Et itaque sequi voluptatem dolore iste unde optio at tenetur? Quibusdam nobis tempora repellat quas. Repellendus iure a id. Minus fugit, nostrum cum iste doloribus modi repellat sit quas non nam, quibusdam aliquid est saepe pariatur possimus, sunt eius velit ullam labore mollitia eaque consectetur sequi adipisci iusto. Odio sed aperiam qui.
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
      var but = document.getElementById("but");
      var video = document.getElementById("vid");
      var mediaDevices = navigator.mediaDevices;
      vid.muted = true;
      but.addEventListener("click", () => {

        // Accessing the user camera and video.
        mediaDevices
          .getUserMedia({
            video: true,
            audio: true,
          })
          .then((stream) => {

            // Changing the source of video to current stream.
            video.srcObject = stream;
            video.addEventListener("loadedmetadata", () => {
              video.play();
            });
          })
          .catch(alert);
      });
    });
  </script>
 
{% endblock %}